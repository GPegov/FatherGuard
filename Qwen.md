# FatherGuard - Юридическая Защита Отцов

## Общее описание

FatherGuard - это полнофункциональное веб-приложение на Vue 3, предназначенное для помощи отцам в защите своих прав. Приложение позволяет пользователям загружать юридические документы, анализировать их с помощью ИИ, выявлять нарушения и формировать официальные жалобы в соответствующие государственные органы.

Приложение построено по архитектуре клиент-сервер, где фронтенд реализован на Vue 3 с использованием современных инструментов разработки, а бэкенд - на Node.js/Express с хранением данных в формате JSON.

## Основные функции

### 1. Работа с документами
- Загрузка текста документа вручную
- Загрузка файлов (PDF, TXT)
- Анализ документов с помощью ИИ
- Извлечение ключевой информации:
  - Краткая суть документа
  - Важные предложения
  - Выявленные нарушения
  - Дата документа
  - Ведомство-отправитель

### 2. Управление жалобами
- Генерация официальных жалоб на основе анализа документов
- Экспорт жалоб в форматах TXT и DOC
- Архивирование жалоб
- Отслеживание статуса жалоб

### 3. Интеграция с ИИ
- Анализ юридических документов
- Генерация кратких сводок
- Выявление нарушений законодательства
- Формирование официальных жалоб

## Техническая архитектура

### Фронтенд (Vue 3)
- **Фреймворк**: Vue 3 (Composition API)
- **Состояние**: Pinia для управления глобальным состоянием
- **Маршрутизация**: Vue Router
- **Стили**: CSS модули и глобальные стили
- **Сборка**: Vite
- **Зависимости**:
  - axios - HTTP клиент
  - docx - работа с документами Word
  - file-saver - сохранение файлов
  - lowdb - клиентская база данных
  - pdf-lib - работа с PDF
  - pinia - управление состоянием

### Бэкенд (Node.js/Express)
- **Фреймворк**: Express.js
- **Хранение данных**: lowdb (JSON файловая база данных)
- **Загрузка файлов**: multer
- **Работа с PDF**: pdf-lib
- **CORS**: поддержка кросс-доменных запросов

### ИИ интеграция
- Локальный запуск моделей через Ollama
- Поддержка различных моделей (llama3.1/18/8192)
- REST API для взаимодействия с ИИ сервисами

## Структура проекта

### Фронтенд
```
frontend/
├── src/
│   ├── assets/           # Статические ресурсы
│   ├── components/       # Переиспользуемые компоненты
│   ├── stores/           # Pinia хранилища
│   ├── views/            # Страницы приложения
│   ├── router/           # Конфигурация маршрутов
│   ├── App.vue           # Корневой компонент
│   └── main.js           # Точка входа
├── public/               # Статические файлы
└── index.html            # HTML шаблон
```

### Бэкенд
```
backend/
├── routes/               # Маршруты API
├── models/               # Модели данных
├── services/             # Бизнес-логика
├── uploads/              # Загруженные файлы
├── db.json               # База данных
└── app.mjs               # Точка входа
```

## Основные экраны приложения

### 1. Главная страница (/)
Позволяет пользователю:
- Ввести текст документа вручную
- Загрузить файлы документов
- Перейти к анализу

### 2. Предпросмотр документа (/review/:id)
Отображает:
- Введенные данные документа
- Результаты анализа ИИ
- Возможность редактирования извлеченной информации
- Кнопки для анализа и сохранения

### 3. Архив документов (/documents)
Предоставляет:
- Список всех загруженных документов
- Фильтрацию по ведомствам
- Поиск по тексту
- Возможность просмотра и анализа документов
- Удаление документов

### 4. Сформированные жалобы (/complaints)
Позволяет:
- Просматривать список сгенерированных жалоб
- Экспортировать жалобы в различных форматах
- Просматривать детали жалоб
- Удалять жалобы

## API эндпоинты

### Документы
- `POST /api/documents/upload` - Загрузка документов с файлами
- `POST /api/documents` - Создание документа
- `GET /api/documents` - Получение списка документов
- `GET /api/documents/:id` - Получение документа по ID
- `PUT /api/documents/:id` - Обновление документа
- `DELETE /api/documents/:id` - Удаление документа

### Жалобы
- `POST /api/complaints/generate` - Генерация жалобы
- `GET /api/complaints` - Получение списка жалоб
- `GET /api/complaints/:id/export` - Экспорт жалобы
- `DELETE /api/complaints/:id` - Удаление жалобы

### ИИ сервисы
- `POST /api/ai/analyze` - Анализ документа
- `POST /api/ai/complaint` - Генерация жалобы

## Установка и запуск

### Требования
- Node.js (версия 16+)
- npm или yarn
- Ollama для запуска ИИ моделей

### Фронтенд
```bash
cd frontend
npm install
npm run dev
```

### Бэкенд
```bash
cd backend
npm install
npm run dev
```

### ИИ сервисы
1. Установить Ollama с официального сайта
2. Запустить модель:
```bash
ollama run llama3.1/18/8192
```

## Особенности реализации

### Работа с документами
- Поддержка форматов PDF и TXT
- Автоматическое извлечение текста из PDF
- Анализ вложений к основным документам
- Сохранение метаданных документов

### Анализ ИИ
- Генерация краткой сводки документа
- Извлечение важных предложений
- Выявление юридических нарушений
- Определение типа документа и отправителя

### Управление состоянием
- Использование Pinia для централизованного состояния
- Реактивное обновление интерфейса
- Обработка ошибок и состояний загрузки
- Кэширование данных

### Экспорт документов
- Экспорт жалоб в текстовом формате
- Экспорт жалоб в формате Word (DOCX)
- Автоматическое именование файлов

## Потенциальные улучшения

1. **Улучшение ИИ анализа**:
   - Интеграция с более специализированными юридическими моделями
   - Добавление возможности дообучения на пользовательских данных

2. **Расширение форматов**:
   - Поддержка DOC/DOCX файлов
   - Работа со сканами документов через OCR

3. **Улучшение пользовательского интерфейса**:
   - Добавление темной темы
   - Улучшение адаптивности для мобильных устройств
   - Добавление визуализации анализа документов

4. **Расширение функциональности**:
   - Добавление шаблонов жалоб
   - Интеграция с государственными системами подачи жалоб
   - Добавление возможности отслеживания статуса жалоб

## Безопасность

- Валидация всех входных данных
- Ограничение размера загружаемых файлов
- Проверка типов файлов
- CORS настройки для ограничения доступа
- Обработка ошибок без раскрытия внутренней структуры

## Лицензирование

Приложение распространяется по лицензии MIT, что позволяет использовать, изменять и распространять код как в коммерческих, так и в некоммерческих целях с сохранением уведомления об авторском праве.